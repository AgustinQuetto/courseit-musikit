{"version":3,"file":"static/webpack/static/development/pages/_app.js.c0976775eaf1403dd039.hot-update.js","sources":["webpack:///./pages/_app.js"],"sourcesContent":["import React from \"react\";\nimport App from \"next/app\";\nimport Menu from \"../components/menu\";\nimport Container from \"../components/Container\";\nimport Footer from \"../components/footer\";\nimport Head from \"next/head\";\nimport Router from \"next/router\";\nimport Cookies from \"js-cookie\";\nimport { initializeStore } from \"../store\";\nimport { Provider } from \"react-redux\";\nimport { connect } from \"react-redux\";\nimport withReduxStore from \"../with-redux-store\";\nimport parseCookies from \"parse-cookies.js\";\n\nimport \"../styles/_app.scss\";\nimport _ from \"lodash\";\nimport axios from \"axios\";\nimport config from \"../config\";\n\nclass CustomApp extends App {\n    static async getInitialProps({ ctx }) {\n        const res = ctx.res ? ctx.res : false;\n        const spotifyAuth = res.spotifyAuth || config.spotifyAuth;\n        const query = res.req ? res.req.query : {};\n\n        let code = _.get(res, \"req.cookies.code\") ? res.req.cookies.code : \"\";\n        let queryCode = _.get(res, \"req.query.code\") ? res.req.query.code : \"\";\n\n        return { ...query, ...code };\n    }\n\n    componentDidMount() {\n        const props = this.props;\n        console.log(props);\n        const urlParams = props;\n        const code = urlParams.get(\"code\");\n        if (!Cookies.get(\"code\") && !code) {\n            Router.replace(\"/\");\n            return;\n        }\n        if (code) {\n            Cookies.set(\"code\", code);\n            Router.replace(location.pathname);\n        }\n    }\n    render() {\n        const { Component, pageProps, reduxStore, router } = this.props;\n        return (\n            <Provider store={reduxStore}>\n                <Head key=\"head\">\n                    <title>Musikit</title>\n                </Head>\n                <div className=\"flex-container\">\n                    <Menu />\n                    <Container>\n                        <Component {...pageProps} />\n                    </Container>\n                </div>\n                <Footer />\n            </Provider>\n        );\n    }\n}\n\nexport default withReduxStore(CustomApp);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AASA;;;;;;;;;;;;AAzCA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;;AAVA;AACA;AA4CA;;;;A","sourceRoot":""}