{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport App from \"next/app\";\nimport Menu from \"../components/menu\";\nimport Container from \"../components/Container\";\nimport Footer from \"../components/footer\";\nimport Head from \"next/head\";\nimport Router from \"next/router\";\nimport Cookies from \"js-cookie\";\nimport { initializeStore } from \"../store\";\nimport { Provider } from \"react-redux\";\nimport { connect } from \"react-redux\";\nimport withReduxStore from \"../with-redux-store\";\nimport parseCookies from \"parse-cookies.js\";\nimport \"../styles/_app.scss\";\nimport _ from \"lodash\";\nimport axios from \"axios\";\nimport config from \"../config\";\n\nvar CustomApp =\n/*#__PURE__*/\nfunction (_App) {\n  _inherits(CustomApp, _App);\n\n  function CustomApp() {\n    _classCallCheck(this, CustomApp);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CustomApp).apply(this, arguments));\n  }\n\n  _createClass(CustomApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var query = this.props;\n      console.log(query);\n      /*  if (!Cookies.get(\"code\") && !query.code) {\n          Router.replace(\"/\");\n          return;\n      }\n      if (code) {\n          Cookies.set(\"code\", code);\n          Router.replace(location.pathname);\n      } */\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          Component = _this$props.Component,\n          pageProps = _this$props.pageProps,\n          reduxStore = _this$props.reduxStore,\n          router = _this$props.router;\n      return __jsx(Provider, {\n        store: reduxStore\n      }, __jsx(Head, {\n        key: \"head\"\n      }, __jsx(\"title\", null, \"Musikit\")), __jsx(\"div\", {\n        className: \"flex-container\"\n      }, __jsx(Menu, null), __jsx(Container, null, __jsx(Component, pageProps))), __jsx(Footer, null));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var ctx, res, spotifyAuth, query, cookies;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                ctx = _ref.ctx;\n                res = ctx.res ? ctx.res : false;\n                spotifyAuth = res.spotifyAuth || config.spotifyAuth;\n                query = res.req ? res.req.query : {};\n                cookies = res.req ? res.req.cookies : {};\n                return _context.abrupt(\"return\", {\n                  query: query,\n                  cookies: cookies,\n                  spotifyAuth: spotifyAuth\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return CustomApp;\n}(App);\n\nexport default withReduxStore(CustomApp);","map":{"version":3,"sources":["/Users/agustinquetto/Documents/GitHub/courseit-musikit/pages/_app.js"],"names":["React","App","Menu","Container","Footer","Head","Router","Cookies","initializeStore","Provider","connect","withReduxStore","parseCookies","_","axios","config","CustomApp","query","props","console","log","Component","pageProps","reduxStore","router","ctx","res","spotifyAuth","req","cookies"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,UAAhB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,eAAT,QAAgC,UAAhC;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,cAAP,MAA2B,qBAA3B;AACA,OAAOC,YAAP,MAAyB,kBAAzB;AAEA,OAAO,qBAAP;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;IAEMC,S;;;;;;;;;;;;;wCAUkB;AAChB,UAAMC,KAAK,GAAG,KAAKC,KAAnB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACA;;;;;;;;AAQH;;;6BACQ;AAAA,wBACgD,KAAKC,KADrD;AAAA,UACGG,SADH,eACGA,SADH;AAAA,UACcC,SADd,eACcA,SADd;AAAA,UACyBC,UADzB,eACyBA,UADzB;AAAA,UACqCC,MADrC,eACqCA,MADrC;AAEL,aACI,MAAC,QAAD;AAAU,QAAA,KAAK,EAAED;AAAjB,SACI,MAAC,IAAD;AAAM,QAAA,GAAG,EAAC;AAAV,SACI,+BADJ,CADJ,EAII;AAAK,QAAA,SAAS,EAAC;AAAf,SACI,MAAC,IAAD,OADJ,EAEI,MAAC,SAAD,QACI,MAAC,SAAD,EAAeD,SAAf,CADJ,CAFJ,CAJJ,EAUI,MAAC,MAAD,OAVJ,CADJ;AAcH;;;;;;;;;;;;AArC8BG,gBAAAA,G,QAAAA,G;AACrBC,gBAAAA,G,GAAMD,GAAG,CAACC,GAAJ,GAAUD,GAAG,CAACC,GAAd,GAAoB,K;AAC1BC,gBAAAA,W,GAAcD,GAAG,CAACC,WAAJ,IAAmBZ,MAAM,CAACY,W;AACxCV,gBAAAA,K,GAAQS,GAAG,CAACE,GAAJ,GAAUF,GAAG,CAACE,GAAJ,CAAQX,KAAlB,GAA0B,E;AAClCY,gBAAAA,O,GAAUH,GAAG,CAACE,GAAJ,GAAUF,GAAG,CAACE,GAAJ,CAAQC,OAAlB,GAA4B,E;iDAErC;AAAEZ,kBAAAA,KAAK,EAALA,KAAF;AAASY,kBAAAA,OAAO,EAAPA,OAAT;AAAkBF,kBAAAA,WAAW,EAAXA;AAAlB,iB;;;;;;;;;;;;;;;;;;;EAPS1B,G;;AAyCxB,eAAeU,cAAc,CAACK,SAAD,CAA7B","sourcesContent":["import React from \"react\";\nimport App from \"next/app\";\nimport Menu from \"../components/menu\";\nimport Container from \"../components/Container\";\nimport Footer from \"../components/footer\";\nimport Head from \"next/head\";\nimport Router from \"next/router\";\nimport Cookies from \"js-cookie\";\nimport { initializeStore } from \"../store\";\nimport { Provider } from \"react-redux\";\nimport { connect } from \"react-redux\";\nimport withReduxStore from \"../with-redux-store\";\nimport parseCookies from \"parse-cookies.js\";\n\nimport \"../styles/_app.scss\";\nimport _ from \"lodash\";\nimport axios from \"axios\";\nimport config from \"../config\";\n\nclass CustomApp extends App {\n    static async getInitialProps({ ctx }) {\n        const res = ctx.res ? ctx.res : false;\n        const spotifyAuth = res.spotifyAuth || config.spotifyAuth;\n        const query = res.req ? res.req.query : {};\n        const cookies = res.req ? res.req.cookies : {};\n\n        return { query, cookies, spotifyAuth };\n    }\n\n    componentDidMount() {\n        const query = this.props;\n        console.log(query);\n        /*  if (!Cookies.get(\"code\") && !query.code) {\n            Router.replace(\"/\");\n            return;\n        }\n        if (code) {\n            Cookies.set(\"code\", code);\n            Router.replace(location.pathname);\n        } */\n    }\n    render() {\n        const { Component, pageProps, reduxStore, router } = this.props;\n        return (\n            <Provider store={reduxStore}>\n                <Head key=\"head\">\n                    <title>Musikit</title>\n                </Head>\n                <div className=\"flex-container\">\n                    <Menu />\n                    <Container>\n                        <Component {...pageProps} />\n                    </Container>\n                </div>\n                <Footer />\n            </Provider>\n        );\n    }\n}\n\nexport default withReduxStore(CustomApp);\n"]},"metadata":{},"sourceType":"module"}